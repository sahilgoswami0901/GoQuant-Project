"use strict";(globalThis.webpackChunkmy_docs=globalThis.webpackChunkmy_docs||[]).push([[5178],{6749:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"getting-started/PROGRAM_ID_EXPLANATION","title":"Understanding Program ID vs Deployer Wallet","description":"\ud83d\udd11 Key Concept","source":"@site/docs/getting-started/PROGRAM_ID_EXPLANATION.md","sourceDirName":"getting-started","slug":"/getting-started/PROGRAM_ID_EXPLANATION","permalink":"/GoQuant-Project/docs/getting-started/PROGRAM_ID_EXPLANATION","draft":false,"unlisted":false,"editUrl":"https://github.com/sahilgoswami0901/GoQuant-Project/tree/main/docs/getting-started/PROGRAM_ID_EXPLANATION.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Keypair Setup Guide for Position Manager & Liquidation Engine","permalink":"/GoQuant-Project/docs/getting-started/KEYPAIR_SETUP_GUIDE"},"next":{"title":"\ud83d\udcb0 USDT Acquisition Guide","permalink":"/GoQuant-Project/docs/getting-started/USDT_ACQUISITION_GUIDE"}}');var l=r(4848),a=r(8453);const o={},i="Understanding Program ID vs Deployer Wallet",t={},d=[{value:"\ud83d\udd11 Key Concept",id:"-key-concept",level:2},{value:"\ud83d\udccb Current Setup",id:"-current-setup",level:2},{value:"\ud83c\udfaf Two Scenarios",id:"-two-scenarios",level:2},{value:"<strong>Scenario 1: Keep Same Program ID, Change Deployer</strong>",id:"scenario-1-keep-same-program-id-change-deployer",level:3},{value:"<strong>Scenario 2: Generate New Program ID</strong>",id:"scenario-2-generate-new-program-id",level:3},{value:"<strong>Step 1: Generate New Program Keypair</strong>",id:"step-1-generate-new-program-keypair",level:4},{value:"<strong>Step 2: Update declare_id! in lib.rs</strong>",id:"step-2-update-declare_id-in-librs",level:4},{value:"<strong>Step 3: Sync Anchor Configuration</strong>",id:"step-3-sync-anchor-configuration",level:4},{value:"<strong>Step 4: Rebuild and Redeploy</strong>",id:"step-4-rebuild-and-redeploy",level:4},{value:"\u26a0\ufe0f Important Notes",id:"\ufe0f-important-notes",level:2},{value:"\ud83d\udd0d Check Current Configuration",id:"-check-current-configuration",level:2},{value:"\ud83d\udca1 Recommendation",id:"-recommendation",level:2},{value:"\ud83d\ude80 Quick Commands",id:"-quick-commands",level:2},{value:"<strong>Keep Same Program, Just Check:</strong>",id:"keep-same-program-just-check",level:3},{value:"<strong>Generate New Program ID:</strong>",id:"generate-new-program-id",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"understanding-program-id-vs-deployer-wallet",children:"Understanding Program ID vs Deployer Wallet"})}),"\n",(0,l.jsx)(n.h2,{id:"-key-concept",children:"\ud83d\udd11 Key Concept"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Program ID \u2260 Deployer Wallet"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Program ID"}),": The unique address of your program on-chain (from ",(0,l.jsx)(n.code,{children:"target/deploy/collateral_vault-keypair.json"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Deployer Wallet"}),": The wallet that pays for deployment fees (from ",(0,l.jsx)(n.code,{children:"~/.config/solana/id.json"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["These are ",(0,l.jsx)(n.strong,{children:"two different things"}),"!"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-current-setup",children:"\ud83d\udccb Current Setup"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Program ID"}),": ",(0,l.jsx)(n.code,{children:"cYT3s7FH9R6AViiHeB9uFd4ruwtdnyHQFQyc27oDmAS"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Stored in: ",(0,l.jsx)(n.code,{children:"target/deploy/collateral_vault-keypair.json"})]}),"\n",(0,l.jsxs)(n.li,{children:["Hardcoded in: ",(0,l.jsx)(n.code,{children:"programs/collateral-vault/src/lib.rs"})," (line 99)"]}),"\n",(0,l.jsxs)(n.li,{children:["Configured in: ",(0,l.jsx)(n.code,{children:"Anchor.toml"})," (lines 9, 12)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Deployer Wallet"}),": ",(0,l.jsx)(n.code,{children:"5cGSnAXuUBvm6gbAnEhUjy54m6REqrfP5Z6K99tuF6mZ"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Stored in: ",(0,l.jsx)(n.code,{children:"~/.config/solana/id.json"})]}),"\n",(0,l.jsx)(n.li,{children:"Used for: Paying deployment fees"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-two-scenarios",children:"\ud83c\udfaf Two Scenarios"}),"\n",(0,l.jsx)(n.h3,{id:"scenario-1-keep-same-program-id-change-deployer",children:(0,l.jsx)(n.strong,{children:"Scenario 1: Keep Same Program ID, Change Deployer"})}),"\n",(0,l.jsx)(n.p,{children:"If you just want to use a different wallet to pay fees (but keep the same program):"}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"Already done!"})," Your ",(0,l.jsx)(n.code,{children:"Anchor.toml"})," already points to the new wallet:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'[provider]\nwallet = "~/.config/solana/id.json"  # Your new wallet\n'})}),"\n",(0,l.jsxs)(n.p,{children:["The program ID stays the same: ",(0,l.jsx)(n.code,{children:"cYT3s7FH9R6AViiHeB9uFd4ruwtdnyHQFQyc27oDmAS"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"scenario-2-generate-new-program-id",children:(0,l.jsx)(n.strong,{children:"Scenario 2: Generate New Program ID"})}),"\n",(0,l.jsx)(n.p,{children:"If you want a completely new program ID (new program deployment):"}),"\n",(0,l.jsx)(n.h4,{id:"step-1-generate-new-program-keypair",children:(0,l.jsx)(n.strong,{children:"Step 1: Generate New Program Keypair"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd collateral-vault\n\n# Generate new program keypair\nsolana-keygen new \\\n  --outfile target/deploy/collateral_vault-keypair.json \\\n  --no-bip39-passphrase\n\n# Get the new program ID\nsolana address -k target/deploy/collateral_vault-keypair.json\n"})}),"\n",(0,l.jsx)(n.h4,{id:"step-2-update-declare_id-in-librs",children:(0,l.jsx)(n.strong,{children:"Step 2: Update declare_id! in lib.rs"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",children:'// In programs/collateral-vault/src/lib.rs\ndeclare_id!("NEW_PROGRAM_ID_HERE");\n'})}),"\n",(0,l.jsx)(n.h4,{id:"step-3-sync-anchor-configuration",children:(0,l.jsx)(n.strong,{children:"Step 3: Sync Anchor Configuration"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"anchor keys sync\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This automatically updates ",(0,l.jsx)(n.code,{children:"Anchor.toml"})," with the new program ID."]}),"\n",(0,l.jsx)(n.h4,{id:"step-4-rebuild-and-redeploy",children:(0,l.jsx)(n.strong,{children:"Step 4: Rebuild and Redeploy"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"anchor build\nanchor deploy --provider.cluster devnet\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-important-notes",children:"\u26a0\ufe0f Important Notes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"New Program = New Deployment"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Old program stays on-chain with old ID"}),"\n",(0,l.jsx)(n.li,{children:"New program is completely separate"}),"\n",(0,l.jsx)(n.li,{children:"All existing vaults/data are tied to the old program ID"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Backend Configuration"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If you change the program ID, update your backend ",(0,l.jsx)(n.code,{children:".env"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-env",children:"VAULT_PROGRAM_ID=NEW_PROGRAM_ID_HERE\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Existing Data"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Vaults created with old program ID won't work with new program"}),"\n",(0,l.jsx)(n.li,{children:"You'll need to recreate everything"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-check-current-configuration",children:"\ud83d\udd0d Check Current Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check program ID\nanchor keys list\n\n# Check deployer wallet\nsolana address -k ~/.config/solana/id.json\n\n# Check program keypair\nsolana address -k target/deploy/collateral_vault-keypair.json\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-recommendation",children:"\ud83d\udca1 Recommendation"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"If your program is already deployed and working:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 Keep the same program ID"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Just use the new wallet for fees (already configured)"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 No changes needed!"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Only generate a new program ID if:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"You're starting fresh"}),"\n",(0,l.jsx)(n.li,{children:"You want a completely new program instance"}),"\n",(0,l.jsx)(n.li,{children:"You're okay losing access to existing vaults/data"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-quick-commands",children:"\ud83d\ude80 Quick Commands"}),"\n",(0,l.jsx)(n.h3,{id:"keep-same-program-just-check",children:(0,l.jsx)(n.strong,{children:"Keep Same Program, Just Check:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"anchor keys list\nsolana address -k ~/.config/solana/id.json\n"})}),"\n",(0,l.jsx)(n.h3,{id:"generate-new-program-id",children:(0,l.jsx)(n.strong,{children:"Generate New Program ID:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"solana-keygen new --outfile target/deploy/collateral_vault-keypair.json --no-bip39-passphrase\nanchor keys sync\nanchor build\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var s=r(6540);const l={},a=s.createContext(l);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);